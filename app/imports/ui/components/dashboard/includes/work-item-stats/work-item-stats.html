<template name="Dashboard_WorkItemStats">
  {{#if isInitialDataReady}}
    {{#if items.length}}
      <div class="dashboard-stats">
        <h4 class="dashboard-stats-title" {{b "text: countText"}}></h4>
        {{#each overdueItems}}
          <a class="dashboard-stats-action" {{b "href: this.href"}} target="_blank">
            <span class="label label-danger" {{b "text: this.sequentialId"}}></span>
            <span>{{this.title}}. To do:- {{this.type}}</span>
            <label class="text-danger" {{b "text: this.time"}}></label>
          </a>
        {{/each}}
        {{#if hasItemsToLoad}}
          <button type="button" class="btn btn-secondary" {{b "click: loadAll"}}>
            <span>View all items</span>
            {{#if isReady}}
              <span>({{hiddenOverdueItemsNumber}} more)</span>
            {{else}}
              <i class="fa fa-spinner fa-pulse fa-fw margin-bottom"></i>
            {{/if}}
          </button>
        {{else}}
          {{#unless enableLimit}}
            <button type="button" class="btn btn-secondary" {{b "click: enableLimit(true)"}}>
              <span>Hide</span>
              {{#if isReady}}
                <span>({{hiddenOverdueItemsNumber}} items)</span>
              {{else}}
                <i class="fa fa-spinner fa-pulse fa-fw margin-bottom"></i>
              {{/if}}
            </button>
          {{/unless}}
        {{/if}}
      </div>
    {{/if}}
  {{/if}}
</template>
