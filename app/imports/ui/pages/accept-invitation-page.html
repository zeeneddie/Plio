<template name="AcceptInvitationPage">
  <div class="container">
    <div class="row">
      <div class="col-xs-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2 no-padding">
        {{> atFormLogo}}

        {{#if Template.subscriptionsReady}}
          {{#unless organization}}
            <div class="card">
              <div class="card-header text-xs-center">
                The invitation is not found or expired!
              </div>
            </div>
          {{else}}
            <div class="card">
              <div class="card-header text-xs-center">
                <div class="at-title">
                  <h3>Invitation</h3>
                </div>
              </div>

              <div class="card-block">
                <div class="info-box">
                  <p>
                    Your Invitation to join the "{{organizationName}}" compliance management system. 
                  </p>
                  <p>
                    Please enter your name and then a password to protect your account.
                  </p>
                </div>
                <hr>
                <div class="at-form">
                  <div class="at-pwd-form">
                    {{#if atDisabled}}
                      Please wait...
                     {{/if}}
                    <form role="form" id="at-pwd-form">
                      <fieldset>
                        <div class="at-input form-group row">
                          <label class="col-md-3 form-control-label" for="at-field-firstName">
                            First name
                          </label>
                          <div class="col-md-9">
                            <input type="text" class="form-control" id="at-field-firstName" name="at-field-firstName"
                                   placeholder="First name" autocapitalize="none"
                                   autocorrect="off" {{b "value: firstName"}} {{disabled}}>
                          </div>
                        </div>

                        <div class="at-input form-group row">
                          <label class="col-md-3 form-control-label" for="at-field-lastName">
                            Last name
                          </label>
                          <div class="col-md-9">
                            <input type="text" class="form-control" id="at-field-lastName" name="at-field-lastName"
                                   placeholder="Last name" autocapitalize="none"
                                   autocorrect="off" {{b "value: lastName"}} {{disabled}}>
                          </div>
                        </div>


                        <div class="at-input form-group row">
                          <label class="col-md-3 form-control-label" for="at-field-email">
                            Email
                          </label>
                          <div class="col-md-9">
                            <input type="email" class="form-control" id="at-field-email" name="at-field-email"
                                   placeholder="Email" autocapitalize="none" autocorrect="off"
                              {{b "value: userEmail"}} disabled>
                          </div>
                        </div>

                        <div class="at-input form-group row">
                          <label class="col-md-3 form-control-label" for="at-field-password">
                            Password
                          </label>
                          <div class="col-md-9">
                            <input type="password" class="form-control" id="at-field-password" name="at-field-password"
                                   placeholder="Password" autocapitalize="none" autocorrect="off" {{b "value: password"}} {{disabled}}>
                          </div>
                        </div>


                        <div class="at-input form-group row">
                          <label class="col-md-3 form-control-label" for="at-field-password_again">
                            Password (again)
                          </label>
                          <div class="col-md-9">
                            <input type="password" class="form-control" id="at-field-password_again"
                                   name="at-field-password_again" placeholder="Password (again)" autocapitalize="none"
                                   autocorrect="off" {{b "value: repeatPassword"}} {{disabled}}>
                          </div>
                        </div>
                      </fieldset>
                    </form>
                  </div>
                  <button {{b "click: acceptInvitation"}} class="at-btn submit btn btn-primary" {{disabled}}>
                    Accept invitation
                  </button>
                </div>
              </div>
              <div class="card-footer text-xs-center">
                You will be able to change your personal information later on.
              </div>
            </div>
          {{/unless}}
        {{else}}
          {{> PreloaderPage}}
        {{/if}}
      </div>
    </div>
  </div>
</template>
